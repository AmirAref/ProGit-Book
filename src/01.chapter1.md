# فصل اول

<small>شروع به کار</small>

این فصل درباره‌ی شروع به کار با گیت است. ما ابتدا با توضیحی مختصر درباره‌ی ابزارهای کنترل نسخه آغاز می‌کنیم، سپس به نحوه‌ی راه اندازی گیت روی سیستم شما می‌پردازیم و در نهایت، نحوه‌ی تنظیم آن را برای شروع کار توضیح خواهیم داد. در پایان این فصل، شما باید بدانید چرا گیت وجود دارد، چرا باید از آن استفاده کنید، و تمام ابزارهای لازم برای شروع کار را در اختیار داشته باشید.

## درباره نسخه کنترل

"کنترل نسخه" چیست و چرا باید به آن اهمیت بدهید؟ کنترل نسخه سیستمی است که تغییرات یک فایل یا مجموعه‌ای از فایل‌ها ‌را در طول زمان ثبت می‌کند تا بتوانید در آینده نسخه های خاصی از آن‌ها را بازیابی کنید. در مثال های این کتاب، از کدهای منبع نرم افزار به عنوان فایل‌هایی که تحت کنترل نسخه قرار می‌گیرند، استفاده خواهید کرد؛ اگرچه در واقعیت، می‌توانید این کار را تقریبا با هر نوع فایلی رو کامپیوتر انجام دهید. اگر یک طراح گرافیک یا وب هستید و می‌خواهید تمامی نسخه های یک تصویر یا طرح را نگه دارید(که قطعا چنین خواسته‌ای دارید)، استفاده از سیستم کنترل نسخه (VCS) بسیار هوشمندانه است. این سیستم به شما اجازه می‌دهد تا فایل‌های خاصی را به حالت قبلی بازگردانید، کل پروژه را به حالت قبلی بازگردانید، تغییرات را در طول زمان مقایسه کنید، ببینید چه کسی اخرین بار چیزی را که ممکن است مشکل‌ساز شده باشد، اصلاح کرده، چه کسی و چه زمانی یک مشکل را ایجاد کرده و موارد بشتر. استفاده از یک VCS همچنین به این معنی است که اگر چیزی را اشتباه انجام دهید یا فایل‌هایی را از دست بدهید، می‌توانید به راحتی آن‌ها را بازیابی کنید. علاوه بر این، تمامی این امکانات با هزینه‌ای بسیار کم در دسترس شما قرار می‌گیرند.

#### سیستم‌های کنترل نسخه محلی

روش بسیاری از افراد برای کنترل نسخه این است که فایل‌ها را در یک دایرکتوری دیگر کپی کنند(شاید با یک دایرکتوری مهر زمانی، اگر آنها هوشمندانه عمل کنند). این روش بسیار رایج است زیرا بسیار ساده است، اما در عین حال به شدت مستعد خطا است. به راحتی ممکن است فراموش کنید در کدام دایرکتوری هستید و به طور تصادفی به فایل اشتباه بنویسید یا فایل‌هایی را کپی کنید که قصد کپی کردن آن‌ها را نداشته‌اید. برای حل این مشکل، برنامه نویسان مدت‌ها پیش سیستم‌های کنترل نسخه محلی را توسعه دادند که دارای یک پایگاه داده ساده بو
دند و تمام تغییرات فایل‌ها را تحت کنترل نسخه نگه می‌داشتند.
![alt text](git2/local.png)

شکل۱. نمودار کنترل نسخه محلی


یکی از محبوب ترین ابزارهای کنترل نسخه سیستمی به نام RCS بود که هنوز هم بسیاری از کامپیوترها توزیع می‌شود. RCS با ذخیره مجموعه‌های پچ(یعنی تفاوت های بین فایل‌ها)در یک فرمت خاص روی دیسک کار می‌کند؛ سپس می‌تواند با جمع‌بندی تمام این پچ‌ها، وضعیت هر فایل را در هر زمان بازسازی کند.

### سیستم‌های کنترل نسخه متمرکز
مشکل مهم بعدی که مردم با آن مواجه می‌شوند این است که باید با توسعه دهندگان روی سیستم‌های دیگر همکاری کنند. برای رفع این مشکل، سیستم‌های کنترل نسخه متمرکز(CVCS مخفف سیستم‌های کنترل نسخه متمرکز) توسعه یافتند. این سیستم‌ها (مانند subversion,CVS,perforce)یک سرور مرکزی دارند که تمامی فایل‌های نسخه‌بندی شده را در خود دارد و تعدادی کلاینت که فایل‌ها را از آن مکان مرکزی دریافت می‌کنند. این روش به مدت سال‌های زیادی به عنوان استاندارد کنترل نسخه مورد استفاده قرار گرفته است.
![alt text](git2/centralized.png)
شکل۲. نمودار کنترل نسخه متمرکز


 این نوع ساختار مزایای زیادی نسبت به سیستم‌های کنترل نسخه محلی دارد. به عنوان مثال، هر کس به نوعی می‌داند که دیگران در پروژه چه کارهایی انجام می‌دهند. مدیران سیستم‌ها کنترل دقیقی بر روی مجوزها دارند و مدیریت یک سیستم کنترل نسخه متمرکز (CVCS) به مراتب آسان‌تر از مدیریت پایگاه داده‌های محلی بر روی کلاینت است.

 با این حال، این ساختار معایب جدی نیز دارد. بزرگترین مشکل این است که سرور مرکزی یک نقطه شکست بحرانی است. اگر این سرور برای یک ساعت از کار بیفتد، در طول این مدت هیچکس نمی‌تواند همکاری کند یا تغییرات نسخه‌بندی شده را ذخیره کند. اگر دیسک‌ سختی که پایگاه داده مرکزی روی آن قرار دارد خراب شود و پشتیبان‌گیری مناسبی انجام نشده باشد، تمام تاریخچه پروژه از دست خواهد رفت - به جز نسخه‌های پراکنده‌ای که ممکن است روی دستگاه‌های محلی افراد وجود داشته باشد. سیستم‌های کنترل نسخه محلی نیز از همین مشکل رنج می‌برند- هرگاه تاریخچه کل پروژه در یک مکان واحد ذخیره می‌شود، خطر از دست دادن همه چیز وجود دارد.


### سیستم‌های کنترل نسخه توزیع شده

اینجاست که سیستم‌های کنترل توزیع توزیع شده(DVCS) وارد عمل می‌شوند. در یک DVCS (مانند git, mercurial, darcs )، کلاینت‌ها فقط اخرین نسخه از فایل‌ها را دریافت نمی‌کنند؛ بلکه کل مخزن، شامل تاریخچه آن را به طور کامل شبیه‌سازی می‌کنند. بنابراین، اگر هر سرور همکاری می‌کردند، هر کدام از مخازن کلاینت‌ها می‌توانند به سرور منتقل شوند تا آن را بازیابی کنند. در واقع، هر کلون یک پشتیبانی کامل از تمام داده‌ها است.
![alt text](git2/distributed.png)
شکل۳. نمودار کنترل نسخه توزیع شده

علاوه بر این، بسیاری از این سیستم‌ها به خوبی قادر به مدیریت چندین مخزن از راه دور هستند، بنابراین می‌توانید به طور همزمان با گروه‌های مختلف در پروژه‌های مشابه همکاری کنید. این امکان به شما می‌دهد که انواع مختلفی از جریان‌های کاری را که در سیستم‌های متمرکز ممکن نیست، تنظیم کنید، مانند مدل‌های سلسه‌مراتبی.

### تاریخچه کوتاهی از گیت

همان‌طور که بسیاری از چیزهای بزرگ در زندگی، گیت نیز با مقداری تخریب خلاقانه و جنجال داغ آغاز شد. هسنه لینوکس یک پروژه نرم‌افزاری متن‌باز با دامنه وسیع است. در سال‌های ابتدایی نگهداری هسته لینوکس (۱۹۹۱-۲۰۰۲)، تغییرات به صورت patch و فایل‌های ارشیوی جابه‌جا می‌شدند. درسال ۲۰۰۲، پروژه هسته لینوکس استفاده از یک سیستم کنترل نسخه توزیع شده(DVCS) به نام bitKeeper را آغاز کرد. در سال ۲۰۰۵، رابطه بین جامعه توسعه‌دهنده هسته لینوکس و شرکت تجاری سازنده bitKeeper به هم خورد و وضعیت رایگان این ابزار لغو شد. این مسئله باعث شد تا جامعه توسعه لینوکس(به ویژه لینوس توروالدز، خالق لینوکس) تصمیم به توسعه ابزار جدیدی بر اساس برخی از دروس اموخته‌شده از استفاده از bitkeeper بگیرند. برخی از اهداف سیستم جدید به شرح زیر بود:

۱. سرعت

۲. طراحی ساده

۳. پشتیبانی قوی از توسعه غیرخطی‌(هزاران شاخه موازی)

۴. کاملا توزیع شده

۵. قادر به مدیریت پروژه‌های بزرگ مانند هسته لینوکس به طور مؤثر(از نظر سرعت و اندازه داده)


از زمان تولدش در سال ۲۰۰۵، گیت تکامل یافته و به بلوغ رسیده است به گونه ای که استفاده از آن آسان است و در عین حال ویژگی‌های اولیه خود را حفظ کرده است. این ابزار به طور شگفت‌آوری سریع است، در پروژه‌های بزرگ بسیار مؤثر است و سیستم شاخه‌زنی فوقالعاده        





